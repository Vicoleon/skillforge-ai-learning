import reflex as rx


class I18nState(rx.State):
    current_language: str = "en"
    available_languages: list[dict[str, str]] = [
        {"code": "en", "name": "English", "flag": "吼"},
        {"code": "es", "name": "Espa帽ol", "flag": ""},
    ]
    translations: dict[str, dict[str, str]] = {
        "en": {
            "nav.explore": "Explore",
            "nav.courses": "My Courses",
            "nav.lab": "Active Lab",
            "nav.reviews": "Reviews",
            "nav.settings": "Settings",
            "nav.menu": "MENU",
            "onboarding.title": "What do you want to learn today?",
            "onboarding.placeholder": "Master Rust, learn Neural Networks, or explore AWS...",
            "onboarding.skill_question": "Great! Let's get you started. To personalize your learning path, how much experience do you have with this topic?",
            "onboarding.beginner": "Beginner",
            "onboarding.intermediate": "Intermediate",
            "onboarding.advanced": "Advanced",
            "onboarding.preparing": "Preparing your diagnostic assessment...",
            "onboarding.generating_questions": "We are generating questions to test your knowledge of {topic}",
            "course.progress": "Course Progress",
            "course.completed": "COMPLETED",
            "course.locked": "LOCKED",
            "course.active": "ACTIVE",
            "course.modules_completed": "{completed} of {total} Modules Completed",
            "course.start_learning": "Start Learning",
            "course.review_module": "Review Module",
            "lab.active_module": "Active Module",
            "lab.next_module": "Next Module",
            "lab.editor": "Editor",
            "lab.terminal": "Terminal",
            "lab.quiz": "Quiz",
            "lab.practice": "Practice",
            "lab.flashcards": "Flashcards",
            "lab.run_code": "Run Code",
            "lab.check_answer": "Check Answer",
            "lab.submit_answer": "Submit Answer",
            "lab.next_question": "Next Question",
            "lab.term": "TERM",
            "lab.definition": "DEFINITION",
            "quiz.correct": "Correct!",
            "quiz.incorrect": "Not quite.",
            "quiz.score": "Score",
            "quiz.explanation": "Explanation",
            "quiz.review_material": "Review Lesson Material",
            "review.due_for_review": "{count} Concepts Due for Review",
            "review.start_session": "Start Review Session",
            "review.all_caught_up": "All Caught Up!",
            "review.click_to_reveal": "Click card to reveal definition",
            "review.again": "Again",
            "review.hard": "Hard",
            "review.good": "Good",
            "review.easy": "Easy",
            "review.how_well": "How well did you know this?",
            "tutor.ai_coach": "AI Coach",
            "tutor.context_help": "Context-Aware Help",
            "tutor.simple": "Simple",
            "tutor.example": "Example",
            "tutor.advanced": "Deep Dive",
            "tutor.ask_placeholder": "Ask about this module...",
            "stats.day_streak": "Day Streak",
            "stats.next_level": "Next level",
            "stats.xp": "XP",
            "common.loading": "Loading...",
            "common.error": "Error",
            "common.success": "Success",
            "diagnostic.complete": "Assessment Complete",
            "diagnostic.analyzed": "We've analyzed your skills in {topic}.",
            "diagnostic.strengths": "Strengths",
            "diagnostic.focus_areas": "Focus Areas",
            "diagnostic.recommendation": "Our Recommendation",
            "diagnostic.generate": "Generate Personalized Course",
        },
        "es": {
            "nav.explore": "Explorar",
            "nav.courses": "Mis Cursos",
            "nav.lab": "Laboratorio",
            "nav.reviews": "Repasos",
            "nav.settings": "Ajustes",
            "nav.menu": "MEN",
            "onboarding.title": "驴Qu茅 quieres aprender hoy?",
            "onboarding.placeholder": "Domina Rust, aprende Redes Neuronales o explora AWS...",
            "onboarding.skill_question": "隆Genial! Empecemos. Para personalizar tu ruta de aprendizaje, 驴cu谩nta experiencia tienes en este tema?",
            "onboarding.beginner": "Principiante",
            "onboarding.intermediate": "Intermedio",
            "onboarding.advanced": "Avanzado",
            "onboarding.preparing": "Preparando tu evaluaci贸n diagn贸stica...",
            "onboarding.generating_questions": "Estamos generando preguntas para probar tus conocimientos sobre {topic}",
            "course.progress": "Progreso del Curso",
            "course.completed": "COMPLETADO",
            "course.locked": "BLOQUEADO",
            "course.active": "ACTIVO",
            "course.modules_completed": "{completed} de {total} M贸dulos Completados",
            "course.start_learning": "Empezar a Aprender",
            "course.review_module": "Repasar M贸dulo",
            "lab.active_module": "M贸dulo Activo",
            "lab.next_module": "Siguiente M贸dulo",
            "lab.editor": "Editor",
            "lab.terminal": "Terminal",
            "lab.quiz": "Cuestionario",
            "lab.practice": "Pr谩ctica",
            "lab.flashcards": "Tarjetas",
            "lab.run_code": "Ejecutar",
            "lab.check_answer": "Comprobar",
            "lab.submit_answer": "Enviar Respuesta",
            "lab.next_question": "Siguiente Pregunta",
            "lab.term": "TRMINO",
            "lab.definition": "DEFINICIN",
            "quiz.correct": "隆Correcto!",
            "quiz.incorrect": "No del todo.",
            "quiz.score": "Puntuaci贸n",
            "quiz.explanation": "Explicaci贸n",
            "quiz.review_material": "Repasar Material de la Lecci贸n",
            "review.due_for_review": "{count} Conceptos por Repasar",
            "review.start_session": "Iniciar Sesi贸n de Repaso",
            "review.all_caught_up": "隆Todo al d铆a!",
            "review.click_to_reveal": "Haz clic para revelar la definici贸n",
            "review.again": "Otra vez",
            "review.hard": "Dif铆cil",
            "review.good": "Bien",
            "review.easy": "F谩cil",
            "review.how_well": "驴Qu茅 tan bien lo sab铆as?",
            "tutor.ai_coach": "Entrenador IA",
            "tutor.context_help": "Ayuda Contextual",
            "tutor.simple": "Simple",
            "tutor.example": "Ejemplo",
            "tutor.advanced": "A Fondo",
            "tutor.ask_placeholder": "Pregunta sobre este m贸dulo...",
            "stats.day_streak": "D铆as de Racha",
            "stats.next_level": "Siguiente nivel",
            "stats.xp": "XP",
            "common.loading": "Cargando...",
            "common.error": "Error",
            "common.success": "xito",
            "diagnostic.complete": "Evaluaci贸n Completada",
            "diagnostic.analyzed": "Hemos analizado tus habilidades en {topic}.",
            "diagnostic.strengths": "Fortalezas",
            "diagnostic.focus_areas": "reas de Enfoque",
            "diagnostic.recommendation": "Nuestra Recomendaci贸n",
            "diagnostic.generate": "Generar Curso Personalizado",
        },
    }

    @rx.event
    def set_language(self, lang_code: str):
        self.current_language = lang_code

    @rx.var
    def current_flag(self) -> str:
        for lang in self.available_languages:
            if lang["code"] == self.current_language:
                return lang["flag"]
        return "吼"